<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Valentine</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@600&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <style>
        /* ----- CSS STYLES ----- */
        :root {
            --primary-color: #ff8fa3;
            --secondary-color: #c96679;
            --bg-color: #fff0f3;
            --text-color: #5a4a4f;
            --glass-bg: rgba(255, 255, 255, 0.7); /* Made slightly more opaque for readability */
            --glass-border: rgba(255, 255, 255, 0.8);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            color: var(--text-color);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
            
            /* --- BACKGROUND IMAGE SETTINGS --- */
            /* Ensure you have a file named 'background.jpg' in your folder! */
            background: url('background.jpg') no-repeat center center fixed; 
            background-size: cover;
            
            /* Heart Cursor */
            cursor: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg'  width='40' height='48' viewport='0 0 100 100' style='fill:black;font-size:24px;'><text y='50%'>‚ù§Ô∏è</text></svg>") 16 0, auto;
        }

        /* --- LOGIN OVERLAY --- */
        #login-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            /* Kept the gradient here so the photo is a surprise reveal! */
            background: linear-gradient(135deg, rgba(255, 240, 243, 1) 0%, rgba(255, 195, 208, 1) 100%);
            z-index: 9999; display: flex; justify-content: center; align-items: center;
            flex-direction: column; transition: opacity 0.8s ease, visibility 0.8s;
        }

        .login-box {
            background: rgba(255, 255, 255, 0.9); 
            padding: 40px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.15);
            text-align: center; border: 2px solid white; max-width: 90%; width: 400px;
        }

        .login-title {
            font-family: 'Dancing Script', cursive; font-size: 2.5rem;
            color: var(--secondary-color); margin-bottom: 20px;
        }

        .password-input {
            width: 100%; padding: 15px; margin-bottom: 20px;
            border: 2px solid #ffe3e8; border-radius: 50px;
            font-family: 'Poppins', sans-serif; font-size: 1rem; text-align: center;
            outline: none; transition: border-color 0.3s;
        }

        .password-input:focus { border-color: var(--primary-color); }

        .submit-btn {
            background: var(--primary-color); color: white; border: none;
            padding: 12px 30px; border-radius: 50px; font-size: 1.1rem;
            cursor: pointer; transition: transform 0.2s;
        }
        .submit-btn:hover { transform: scale(1.05); }

        #error-msg { color: #d9534f; margin-top: 15px; font-size: 0.95rem; display: none; }
        .shake { animation: shake 0.5s; }
        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 50% { transform: translateX(5px); } 75% { transform: translateX(-5px); } 100% { transform: translateX(0); } }

        /* --- BACKGROUND HEARTS --- */
        .hearts-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 0; overflow: hidden; }
        .heart { position: absolute; bottom: -50px; background: var(--primary-color); transform: rotate(45deg); animation: floatUp linear infinite; opacity: 0; }
        .heart::before, .heart::after { content: ''; position: absolute; width: 100%; height: 100%; border-radius: 50%; background: inherit; }
        .heart::before { top: -50%; left: 0; } .heart::after { left: -50%; top: 0; }
        @keyframes floatUp { 0% { transform: translateY(0) rotate(45deg); opacity: 0; } 10% { opacity: 0.6; } 100% { transform: translateY(-120vh) rotate(45deg); opacity: 0; } }

        /* --- MAIN CONTAINER --- */
        .container { position: relative; z-index: 10; max-width: 900px; margin: 0 auto; padding: 60px 20px; text-align: center; }

        h1.main-title { 
            font-family: 'Dancing Script', cursive; font-size: 4.5rem; color: var(--secondary-color); 
            margin-bottom: 10px; text-shadow: 2px 2px 4px rgba(255,255,255,0.8); min-height: 80px; 
        }
        .subtitle { font-size: 1.3rem; margin-bottom: 50px; opacity: 1; text-shadow: 1px 1px 2px rgba(255,255,255,0.8); font-weight: 600; }

        /* --- PHOTO GALLERY --- */
        .gallery { display: flex; justify-content: center; flex-wrap: wrap; gap: 40px; margin: 60px 0; }
        .polaroid { background: white; padding: 15px 15px 60px 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); transform: rotate(-4deg); transition: all 0.3s ease; width: 250px; }
        .polaroid:nth-child(even) { transform: rotate(3deg); }
        .polaroid:hover { transform: scale(1.05) rotate(0deg); z-index: 20; }
        .photo-placeholder { width: 100%; height: 220px; background-size: cover; background-position: center; background-color: #eee; }
        
        /* PHOTOS */
        .photo-1 { background-image: url('https://picsum.photos/id/1011/400/400'); }
        .photo-2 { background-image: url('https://picsum.photos/id/1012/400/400'); }
        .photo-3 { background-image: url('https://picsum.photos/id/1025/400/400'); }

        .caption { position: absolute; bottom: 15px; width: 100%; left: 0; font-family: 'Dancing Script', cursive; font-size: 1.6rem; color: #666; }

        /* --- TIMELINE STYLE --- */
        .timeline-container {
            background: var(--glass-bg); backdrop-filter: blur(10px); border-radius: 25px;
            padding: 40px; margin-bottom: 50px; text-align: left;
            border: 2px solid var(--glass-border);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .timeline-title { text-align: center; margin-bottom: 30px; font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--secondary-color); }
        .timeline { border-left: 4px solid var(--primary-color); margin-left: 20px; padding-left: 30px; }
        .timeline-item { margin-bottom: 30px; position: relative; }
        .timeline-item::before {
            content: '‚ù§Ô∏è'; position: absolute; left: -44px; top: 0px; 
            background: #fff; border-radius: 50%; padding: 5px; font-size: 1.2rem;
        }
        .timeline-date { font-weight: bold; color: var(--secondary-color); font-size: 1.1rem; }
        .timeline-content { color: #555; margin-top: 5px; }

        /* --- 10 REASONS GRID STYLE --- */
        .reasons-container { margin-bottom: 60px; }
        .reasons-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 20px;
        }
        .reason-card {
            background-color: transparent; height: 120px; perspective: 1000px; cursor: pointer;
        }
        .reason-inner {
            position: relative; width: 100%; height: 100%; text-align: center;
            transition: transform 0.6s; transform-style: preserve-3d;
        }
        .reason-card.flipped .reason-inner { transform: rotateY(180deg); }
        .reason-front, .reason-back {
            position: absolute; width: 100%; height: 100%; -webkit-backface-visibility: hidden; backface-visibility: hidden;
            display: flex; align-items: center; justify-content: center; border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .reason-front { background: rgba(255,255,255,0.9); color: var(--primary-color); font-size: 2.5rem; }
        .reason-back {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white; transform: rotateY(180deg); padding: 10px; font-size: 0.9rem; font-weight: 500;
        }

        /* --- PRANK GAME STYLE --- */
        .game-area {
            position: relative; height: 300px; background: var(--glass-bg);
            border: 2px solid var(--glass-border); border-radius: 25px; margin-bottom: 50px;
            display: flex; justify-content: center; align-items: center; overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }
        #runaway-btn {
            position: absolute; padding: 15px 40px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            color: white; border: none; border-radius: 50px;
            font-family: 'Poppins', sans-serif; font-size: 1.2rem; cursor: pointer;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2); transition: top 0.3s ease, left 0.3s ease;
        }

        /* --- ACTUAL LETTER --- */
        #actual-letter {
            display: none; background: var(--glass-bg); backdrop-filter: blur(10px);
            border: 2px solid var(--glass-border); padding: 50px;
            border-radius: 25px; margin-bottom: 50px; text-align: left;
            animation: popUp 0.8s ease;
        }

        h2 { font-family: 'Dancing Script', cursive; font-size: 3rem; color: var(--secondary-color); margin-bottom: 20px; text-align: center; text-shadow: 1px 1px 2px rgba(255,255,255,0.8); }
        .letter-text { font-size: 1.2rem; line-height: 1.8; white-space: pre-wrap; color: #444; }

        /* --- VALENTINE QUESTION SECTION --- */
        .valentine-section { margin-top: 50px; padding: 40px; }
        .btn-group { display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 30px; height: 100px; }

        #yes-btn {
            padding: 15px 40px; background-color: #4CAF50; color: white; border: none;
            border-radius: 50px; font-family: 'Poppins', sans-serif; font-size: 1.2rem;
            cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 20px rgba(76, 175, 80, 0.3);
        }

        #no-btn {
            padding: 15px 40px; background-color: #f44336; color: white; border: none;
            border-radius: 50px; font-family: 'Poppins', sans-serif; font-size: 1.2rem;
            cursor: pointer; transition: all 0.3s ease; box-shadow: 0 10px 20px rgba(244, 67, 54, 0.3);
        }

        #success-message { display: none; margin-top: 20px; animation: popUp 0.5s ease; }

        /* --- MUSIC BUTTON --- */
        .music-control {
            position: fixed; bottom: 20px; right: 20px; z-index: 100;
            background: white; width: 50px; height: 50px; border-radius: 50%;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1); cursor: pointer;
            transition: transform 0.2s; border: 2px solid var(--primary-color);
            display: none; 
        }
        .music-control:hover { transform: scale(1.1); }
        
        @keyframes fadeInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes popUp { from { opacity: 0; transform: scale(0.5); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

    <div id="login-overlay">
        <div class="login-box">
            <h2 class="login-title">‚ô• Key to my Heart ‚ô•</h2>
            <p style="margin-bottom: 15px; color: #777;">Enter the secret password:</p>
            <input type="password" id="password" class="password-input" placeholder="Type here...">
            <button class="submit-btn" onclick="checkPassword()">Unlock</button>
            <p id="error-msg">Not quite! Think harder... ‚ù§Ô∏è</p>
        </div>
    </div>

    <audio id="bg-music" loop>
        <source src="song.mp3" type="audio/mpeg">
    </audio>
    <audio id="cheer-sound">
        <source src="cheer.mp3" type="audio/mpeg">
    </audio>

    <div class="music-control" onclick="toggleMusic()" id="music-btn">
        üéµ
    </div>

    <div class="hearts-container">
        <div class="heart" style="left: 10%; width: 15px; height: 15px; animation-duration: 10s;"></div>
        <div class="heart" style="left: 25%; width: 20px; height: 20px; animation-duration: 14s;"></div>
        <div class="heart" style="left: 60%; width: 22px; height: 22px; animation-duration: 16s;"></div>
        <div class="heart" style="left: 95%; width: 32px; height: 32px; animation-duration: 22s;"></div>
    </div>

    <div class="container">
        <header>
            <h1 class="main-title" id="typing-title"></h1>
            <p class="subtitle">A little surprise, just for you.</p>
        </header>

        <section class="gallery">
            <div class="polaroid">
                <div class="photo-placeholder photo-1"></div> 
                <div class="caption">Us</div>
            </div>
            <div class="polaroid">
                <div class="photo-placeholder photo-2"></div>
                <div class="caption">Memories</div>
            </div>
            <div class="polaroid">
                <div class="photo-placeholder photo-3"></div>
                <div class="caption">Forever</div>
            </div>
        </section>

        <section class="timeline-container">
            <h2 class="timeline-title">Our Journey</h2>
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-date">August 25, 2022</div> 
                    <div class="timeline-content">The day we first met ‚òï</div> 
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">September 10, 2022</div>
                    <div class="timeline-content">Our first movie date üé¨</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">December 25, 2023</div>
                    <div class="timeline-content">Our first Christmas together üéÑ</div>
                </div>
                <div class="timeline-item">
                    <div class="timeline-date">Today</div>
                    <div class="timeline-content">Celebrating us ‚ù§Ô∏è</div>
                </div>
            </div>
        </section>

        <section style="margin-bottom: 60px; text-align: center;">
            <h2 style="font-size: 2.5rem; margin-bottom: 20px; font-family: 'Dancing Script', cursive; color: var(--secondary-color); text-shadow: 1px 1px 2px white;">Time Since We Met</h2>
            <div id="love-timer" style="
                font-family: 'Poppins', sans-serif;
                font-size: 1.2rem;
                background: rgba(255, 255, 255, 0.9);
                display: inline-block;
                padding: 15px 30px;
                border-radius: 50px;
                box-shadow: 0 10px 25px rgba(0,0,0,0.1);
                color: var(--secondary-color);
                font-weight: bold;
                border: 2px solid #ffe3e8;
            ">
                Calculating...
            </div>
        </section>

        <section style="margin-bottom: 60px;">
            <h2 style="margin-bottom: 10px;">Plant a Garden for Us üå∏</h2>
            <p style="margin-bottom: 20px; opacity: 0.8; font-weight: bold;">Click inside the box to make love bloom...</p>
            
            <div id="garden-box" style="
                width: 100%; height: 300px; 
                background: linear-gradient(to top, rgba(230, 240, 255, 0.8) 0%, rgba(255, 255, 255, 0.9) 100%); 
                border: 2px solid var(--glass-border); 
                border-radius: 20px; position: relative; 
                overflow: hidden; cursor: crosshair;
                box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
            " onclick="plantFlower(event)">
                <div style="position: absolute; bottom: 10px; width: 100%; text-align: center; color: #aaa; pointer-events: none;">
                    (Click anywhere here!)
                </div>
            </div>
        </section>

        <section class="reasons-container">
            <h2>10 Reasons I Love You</h2>
            <p style="margin-bottom: 30px; opacity: 0.8; font-weight: bold;">Click the hearts to see why...</p>
            <div class="reasons-grid">
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>Your laugh</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>How you care</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>Your cooking</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>You understand me</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>Your ambition</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>The way you dress</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>My best friend</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>Your kindness</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>Late night talks</p></div></div></div>
                <div class="reason-card" onclick="this.classList.toggle('flipped')"><div class="reason-inner"><div class="reason-front">‚ô•</div><div class="reason-back"><p>Just being you</p></div></div></div>
            </div>
        </section>

        <h2 style="margin-bottom: 10px;">My Letter To You</h2>
        <p style="margin-bottom: 20px; color: #444; font-weight: bold;">Prove you really want to read it...</p>
        <div class="game-area" id="game-area">
            <button id="runaway-btn" onmouseover="moveButton(event)" onclick="moveButton(event)">Read Letter</button>
        </div>

        <section id="actual-letter">
            <h2>Finally!</h2>
            <p class="letter-text">
Dear [Her Name],

You caught the button! (I promise I won't run away like that button did).

I wanted to make something special for you to show how much I appreciate you. You are my favorite person, my partner in crime, and my best friend.

Happy Valentine's Day!

With all my love,
[Your Name]
            </p>
        </section>

        <section class="valentine-section" id="valentine-question">
            <h2 style="font-size: 3rem; color: var(--secondary-color); font-family: 'Dancing Script', cursive; text-shadow: 2px 2px 4px white;">Will you be my Valentine?</h2>
            
            <div class="btn-group">
                <button id="yes-btn" onclick="acceptValentine()">YES</button>
                <button id="no-btn" onmouseover="shrinkNo()" onclick="shrinkNo()">NO</button>
            </div>

            <div id="success-message">
                <h2 style="font-size: 3.5rem; margin-bottom: 20px; color: #4CAF50; text-shadow: 2px 2px 0px white;">I KNEW IT! ‚ù§Ô∏è</h2>
                <p style="font-size: 1.5rem; font-weight: bold;">See you tonight! üòò</p>
            </div>
        </section>
    </div>

    <script>
        // --- CONFIGURATION ---
        const secretPassword = "love"; 
        const startDate = new Date(2022, 7, 25); 

        // ---------------------

        let jumps = 0;
        const maxJumps = 6;
        const taunts = ["Too slow! üòú", "Missed me! üòÇ", "Catch me if you can!", "Nope!", "Almost...", "Okay I give up! ‚ù§Ô∏è"];

        function checkPassword() {
            const input = document.getElementById('password').value;
            const overlay = document.getElementById('login-overlay');
            const errorMsg = document.getElementById('error-msg');
            const loginBox = document.querySelector('.login-box');
            const music = document.getElementById('bg-music');
            const musicBtn = document.getElementById('music-btn');

            if (input.toLowerCase() === secretPassword.toLowerCase()) {
                overlay.style.opacity = '0';
                overlay.style.visibility = 'hidden';
                
                music.volume = 0.5; 
                music.play().catch(e => console.log("Audio play failed (browser blocked):", e));
                musicBtn.style.display = 'flex';
                
                typeWriter();

            } else {
                errorMsg.style.display = 'block';
                loginBox.classList.remove('shake');
                void loginBox.offsetWidth;
                loginBox.classList.add('shake');
            }
        }

        function toggleMusic() {
            const music = document.getElementById('bg-music');
            const btn = document.getElementById('music-btn');
            
            if (music.paused) {
                music.play();
                btn.innerHTML = "üéµ";
            } else {
                music.pause();
                btn.innerHTML = "üîá";
            }
        }

        const typeText = "Happy Valentine's Day! ‚ù§Ô∏è";
        const titleElement = document.getElementById('typing-title');
        let typeIndex = 0;

        function typeWriter() {
            if (typeIndex < typeText.length) {
                titleElement.innerHTML += typeText.charAt(typeIndex);
                typeIndex++;
                setTimeout(typeWriter, 100);
            }
        }

        function updateTimer() {
            const now = new Date();
            const diff = now - startDate;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
            const minutes = Math.floor((diff / (1000 * 60)) % 60);
            const seconds = Math.floor((diff / 1000) % 60);
            document.getElementById('love-timer').innerText = `${days} Days, ${hours} Hours, ${minutes} Mins, ${seconds} Secs`;
        }
        setInterval(updateTimer, 1000);
        updateTimer();

        const flowerEmojis = ["üå∏", "üåπ", "üåª", "üå∑", "üå∫", "üåº", "üíê"];
        function plantFlower(event) {
            const garden = document.getElementById('garden-box');
            const flower = document.createElement('div');
            const randomFlower = flowerEmojis[Math.floor(Math.random() * flowerEmojis.length)];
            flower.innerText = randomFlower;
            
            const rect = garden.getBoundingClientRect();
            const x = event.clientX - rect.left; 
            const y = event.clientY - rect.top;
            const size = Math.random() * 20 + 20; 
            
            flower.style.position = 'absolute';
            flower.style.left = `${x}px`;
            flower.style.top = `${y}px`;
            flower.style.fontSize = `${size}px`;
            flower.style.transform = "translate(-50%, -50%) scale(0)"; 
            flower.style.transition = "transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)";
            flower.style.pointerEvents = "none"; 
            
            garden.appendChild(flower);
            setTimeout(() => {
                flower.style.transform = `translate(-50%, -50%) scale(1) rotate(${Math.random() * 360}deg)`;
            }, 10);
        }

        function moveButton(event) {
            const btn = document.getElementById('runaway-btn');
            const gameArea = document.getElementById('game-area');

            if (jumps >= maxJumps) {
                if (event.type === 'click') {
                    gameArea.style.display = 'none'; 
                    document.getElementById('actual-letter').style.display = 'block'; 
                }
                return;
            }

            const areaRect = gameArea.getBoundingClientRect();
            const btnRect = btn.getBoundingClientRect();
            const maxLeft = areaRect.width - btnRect.width - 40; 
            const maxTop = areaRect.height - btnRect.height - 40;
            
            btn.style.left = (Math.random() * maxLeft + 20) + 'px';
            btn.style.top = (Math.random() * maxTop + 20) + 'px';

            if (jumps < taunts.length) btn.innerText = taunts[jumps];
            jumps++;
            if (jumps >= maxJumps) btn.innerText = "Okay, I give up! Click me! ‚ù§Ô∏è";
        }

        let yesScale = 1;
        let noScale = 1;

        function shrinkNo() {
            const yesBtn = document.getElementById('yes-btn');
            const noBtn = document.getElementById('no-btn');

            yesScale += 0.2; 
            noScale -= 0.1;

            if (noScale < 0) noScale = 0; // Prevent it from flipping

            yesBtn.style.transform = `scale(${yesScale})`;
            noBtn.style.transform = `scale(${noScale})`;
        }

        function acceptValentine() {
            const successMsg = document.getElementById('success-message');
            const btnGroup = document.querySelector('.btn-group');
            const cheerSound = document.getElementById('cheer-sound');

            btnGroup.style.display = 'none';
            successMsg.style.display = 'block';
            
            cheerSound.volume = 0.6;
            cheerSound.play().catch(e => console.log("Sound play failed", e));

            var duration = 3 * 1000;
            var animationEnd = Date.now() + duration;
            var defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) { return Math.random() * (max - min) + min; }

            var interval = setInterval(function() {
                var timeLeft = animationEnd - Date.now();
                if (timeLeft <= 0) return clearInterval(interval);

                var particleCount = 50 * (timeLeft / duration);
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 } }));
                confetti(Object.assign({}, defaults, { particleCount, origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 } }));
            }, 250);
        }

        let docTitle = document.title;
        window.addEventListener("blur", () => { document.title = "Come back! ü•∫"; });
        window.addEventListener("focus", () => { document.title = docTitle; });

    </script>
</body>
</html>
